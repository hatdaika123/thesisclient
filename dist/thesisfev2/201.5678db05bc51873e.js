"use strict";(self.webpackChunkthesisfev2=self.webpackChunkthesisfev2||[]).push([[201],{201:(H,k,a)=>{a.r(k),a.d(k,{default:()=>ue});var l=a(6895),y=a(5127),m=a(5585),e=a(8274),_=a(5593),p=a(805),x=a(4655),c=a(2453);let f=(()=>{class n{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return this.size?{...this.style,width:this.size,height:this.size,borderRadius:this.borderRadius}:{...this.style,width:this.width,height:this.height,borderRadius:this.borderRadius}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(t,o){1&t&&e._UZ(0,"div",0),2&t&&(e.Tol(o.styleClass),e.Q6J("ngClass",o.containerClass())("ngStyle",o.containerStyle()))},dependencies:[l.mk,l.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),n})(),O=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez]}),n})();const D=function(n){return{background:n}};function L(n,r){if(1&n&&(e.TgZ(0,"div",1)(1,"div",2)(2,"span",3),e._uU(3),e.qZA(),e.TgZ(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"span",5),e._uU(7),e.qZA()()()),2&n){const t=e.oxw();e.Q6J("routerLink",t.urlHelper.editCategory(t.data._id)),e.xp6(2),e.Q6J("ngStyle",e.VKq(5,D,t.data.color||"#058cb1")),e.xp6(1),e.hij(" ",t.data.icon," "),e.xp6(2),e.Oqu(t.data.name),e.xp6(2),e.Oqu(t.data.description)}}let I=(()=>{class n{constructor(){this.urlHelper=m._S}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["category-item"]],inputs:{data:"data"},decls:1,vars:1,consts:[["class","expense-history-item d-flex justify-content-between align-items-center ts-category-item",3,"routerLink",4,"ngIf"],[1,"expense-history-item","d-flex","justify-content-between","align-items-center","ts-category-item",3,"routerLink"],[1,"item"],[1,"material-symbols-outlined","category",3,"ngStyle"],[1,"category-name","m-0","ts-3-dots"],[1,"date","ts-3-dots"]],template:function(t,o){1&t&&e.YNc(0,L,8,7,"div",0),2&t&&e.Q6J("ngIf",o.data)},dependencies:[l.O5,l.PC,y.rH],styles:['.expense-history-item[_ngcontent-%COMP%]{width:100%;background:#fff;padding:5px 10px;cursor:pointer}.expense-history-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:grid;grid-template-columns:50px 1fr;grid-template-rows:1fr 1fr;grid-auto-columns:1fr;gap:0px 10px;grid-auto-flow:row;grid-template-areas:"category category-name" "category date"}.expense-history-item[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{grid-area:category;border-radius:8px;height:50px;width:50px}.expense-history-item[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-size:16px;grid-area:category-name}.expense-history-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:14px;color:#717171;grid-area:date}.expense-history-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.expense-history-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .income[_ngcontent-%COMP%]{color:#25a969}.expense-history-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .expense[_ngcontent-%COMP%]{color:#f95b51}.ts-category-item[_ngcontent-%COMP%]{background:#fff;width:100%;height:unset;padding:10px;border-radius:6px}.ts-category-item[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:50px;color:#fff}'],changeDetection:0}),n})();function B(n,r){1&n&&e._UZ(0,"p-skeleton",4)}function Z(n,r){1&n&&e._UZ(0,"category-item",5),2&n&&e.Q6J("data",r.$implicit)}let E=(()=>{class n{constructor(t,o,i){this.categoryService=t,this.cd=o,this.messageService=i,this.categories=[],this.loading=!1}ngOnInit(){this.loadCategory()}loadCategory(){this.loading||(this.showLoading(),this.categoryService.listAllUserCategoryUsingGET().subscribe({next:t=>{this.categories=t,this.hideLoading(),this.cd.detectChanges()},error:t=>{(0,m.d9)(this.messageService,t.error),this.hideLoading()}}))}showLoading(){this.loading=!0,this.cd.detectChanges()}hideLoading(){this.loading=!1,this.cd.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.H),e.Y36(e.sBO),e.Y36(p.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["category-list"]],features:[e._Bn([p.ez])],decls:4,vars:2,consts:[["styleClass","ts-mw-75"],[1,"row","ts-category-list"],["height","70px","class","col-lg-4 col-12",4,"ngIf"],["class","col-lg-4 col-12 mb-2",3,"data",4,"ngFor","ngForOf"],["height","70px",1,"col-lg-4","col-12"],[1,"col-lg-4","col-12","mb-2",3,"data"]],template:function(t,o){1&t&&(e._UZ(0,"p-toast",0),e.TgZ(1,"div",1),e.YNc(2,B,1,0,"p-skeleton",2),e.YNc(3,Z,1,1,"category-item",3),e.qZA()),2&t&&(e.xp6(2),e.Q6J("ngIf",o.loading),e.xp6(1),e.Q6J("ngForOf",o.categories))},dependencies:[l.sg,l.O5,c.FN,f,I],encapsulation:2,changeDetection:0}),n})(),U=(()=>{class n{constructor(){this.urlHelper=m._S}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category-management"]],decls:7,vars:2,consts:[[1,"ts-category-management","position-relative","overflow-hidden","vh-100"],[1,"text-capitalize","text-center","ts-page-title"],["pButton","","role","button","icon","pi pi-angle-left","label","Back",1,"p-button-text","ts-category-management-back",3,"routerLink"],["pButton","","role","button","icon","pi pi-plus","label","Category",1,"p-button","ts-category-management-add-btn",3,"routerLink"],[1,"ts-m-page-content","ts-hide-scrollbar","overflow-auto"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Category"),e.qZA(),e._UZ(3,"a",2)(4,"a",3),e.TgZ(5,"div",4),e._UZ(6,"category-list"),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("routerLink",o.urlHelper.expense()),e.xp6(1),e.Q6J("routerLink",o.urlHelper.newCategory()))},dependencies:[y.yS,_.Hq,E],styles:[".ts-category-management[_ngcontent-%COMP%]{padding:40px 20px 20px;background:#01B8C6}.ts-category-management-back[_ngcontent-%COMP%]{color:#fff;text-decoration:none;top:40px;position:absolute;padding:0}.ts-category-management-back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.ts-category-management-add-btn[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);color:#fff;background:#1cc6f0;border:0;text-decoration:none}"],changeDetection:0}),n})();var u=a(433),w=a(1740),v=a(7340),b=a(9592),M=a(982);const A=["container"],F=["input"],R=["colorSelector"],G=["colorHandle"],J=["hue"],z=["hueHandle"],V=function(n){return{"p-disabled":n}};function Y(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"input",4,5),e.NdJ("focus",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onInputFocus())})("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onInputClick())})("keydown",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onInputKeydown(i))}),e.qZA()}if(2&n){const t=e.oxw();e.Udp("background-color",t.inputBgColor),e.Q6J("ngClass",e.VKq(6,V,t.disabled))("disabled",t.disabled),e.uIk("id",t.inputId)("tabindex",t.tabindex)}}const Q=function(n,r){return{"p-colorpicker-panel":!0,"p-colorpicker-overlay-panel":n,"p-disabled":r}},K=function(n,r){return{showTransitionParams:n,hideTransitionParams:r}},N=function(n){return{value:"visible",params:n}};function X(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",6),e.NdJ("click",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onOverlayClick(i))})("@overlayAnimation.start",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onOverlayAnimationStart(i))})("@overlayAnimation.done",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onOverlayAnimationEnd(i))}),e.TgZ(1,"div",7)(2,"div",8,9),e.NdJ("touchstart",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onColorTouchStart(i))})("touchmove",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onMove(i))})("touchend",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onDragEnd())})("mousedown",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onColorMousedown(i))}),e.TgZ(4,"div",10),e._UZ(5,"div",11,12),e.qZA()(),e.TgZ(7,"div",13,14),e.NdJ("mousedown",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onHueMousedown(i))})("touchstart",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onHueTouchStart(i))})("touchmove",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.onMove(i))})("touchend",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onDragEnd())}),e._UZ(9,"div",15,16),e.qZA()()()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.WLB(3,Q,!t.inline,t.disabled))("@overlayAnimation",e.VKq(9,N,e.WLB(6,K,t.showTransitionOptions,t.hideTransitionOptions)))("@.disabled",!0===t.inline)}}const j=function(n,r){return{"p-colorpicker p-component":!0,"p-colorpicker-overlay":n,"p-colorpicker-dragging":r}},q={provide:u.JU,useExisting:(0,e.Gpc)(()=>T),multi:!0};let T=(()=>{class n{constructor(t,o,i,s,d){this.el=t,this.renderer=o,this.cd=i,this.config=s,this.overlayService=d,this.format="hex",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onChange=new e.vpe,this.onShow=new e.vpe,this.onHide=new e.vpe,this.value={h:0,s:100,b:100},this.defaultColor="ff0000",this.onModelChange=()=>{},this.onModelTouched=()=>{}}set colorSelector(t){this.colorSelectorViewChild=t}set colorHandle(t){this.colorHandleViewChild=t}set hue(t){this.hueViewChild=t}set hueHandle(t){this.hueHandleViewChild=t}onHueMousedown(t){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.hueDragging=!0,this.pickHue(t))}onHueTouchStart(t){this.disabled||(this.hueDragging=!0,this.pickHue(t,t.changedTouches[0]))}onColorTouchStart(t){this.disabled||(this.colorDragging=!0,this.pickColor(t,t.changedTouches[0]))}pickHue(t,o){let i=o?o.pageY:t.pageY,s=this.hueViewChild.nativeElement.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);this.value=this.validateHSB({h:Math.floor(360*(150-Math.max(0,Math.min(150,i-s)))/150),s:this.value.s,b:this.value.b}),this.updateColorSelector(),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:t,value:this.getValueToUpdate()})}onColorMousedown(t){this.disabled||(this.bindDocumentMousemoveListener(),this.bindDocumentMouseupListener(),this.colorDragging=!0,this.pickColor(t))}onMove(t){this.colorDragging&&(this.pickColor(t,t.changedTouches[0]),t.preventDefault()),this.hueDragging&&(this.pickHue(t,t.changedTouches[0]),t.preventDefault())}onDragEnd(){this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}pickColor(t,o){let i=o?o.pageX:t.pageX,s=o?o.pageY:t.pageY,d=this.colorSelectorViewChild.nativeElement.getBoundingClientRect(),h=d.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),g=d.left+document.body.scrollLeft,C=Math.floor(100*Math.max(0,Math.min(150,i-g))/150),he=Math.floor(100*(150-Math.max(0,Math.min(150,s-h)))/150);this.value=this.validateHSB({h:this.value.h,s:C,b:he}),this.updateUI(),this.updateModel(),this.onChange.emit({originalEvent:t,value:this.getValueToUpdate()})}getValueToUpdate(){let t;switch(this.format){case"hex":t="#"+this.HSBtoHEX(this.value);break;case"rgb":t=this.HSBtoRGB(this.value);break;case"hsb":t=this.value}return t}updateModel(){this.onModelChange(this.getValueToUpdate())}writeValue(t){if(t)switch(this.format){case"hex":this.value=this.HEXtoHSB(t);break;case"rgb":this.value=this.RGBtoHSB(t);break;case"hsb":this.value=t}else this.value=this.HEXtoHSB(this.defaultColor);this.updateColorSelector(),this.updateUI(),this.cd.markForCheck()}updateColorSelector(){if(this.colorSelectorViewChild){const t={s:100,b:100};t.h=this.value.h,this.colorSelectorViewChild.nativeElement.style.backgroundColor="#"+this.HSBtoHEX(t)}}updateUI(){this.colorHandleViewChild&&this.hueHandleViewChild.nativeElement&&(this.colorHandleViewChild.nativeElement.style.left=Math.floor(150*this.value.s/100)+"px",this.colorHandleViewChild.nativeElement.style.top=Math.floor(150*(100-this.value.b)/100)+"px",this.hueHandleViewChild.nativeElement.style.top=Math.floor(150-150*this.value.h/360)+"px"),this.inputBgColor="#"+this.HSBtoHEX(this.value)}onInputFocus(){this.onModelTouched()}show(){this.overlayVisible=!0,this.cd.markForCheck()}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.inline||(this.overlay=t.element,this.appendOverlay(),this.autoZIndex&&M.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.updateColorSelector(),this.updateUI());break;case"void":this.onOverlayHide()}}onOverlayAnimationEnd(t){switch(t.toState){case"visible":this.inline||this.onShow.emit({});break;case"void":this.autoZIndex&&M.P9.clear(t.element),this.onHide.emit({})}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):b.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?b.p.absolutePosition(this.overlay,this.inputViewChild.nativeElement):b.p.relativePosition(this.overlay,this.inputViewChild.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onInputClick(){this.selfClick=!0,this.togglePanel()}togglePanel(){this.overlayVisible?this.hide():this.show()}onInputKeydown(t){switch(t.which){case 32:this.togglePanel(),t.preventDefault();break;case 27:case 9:this.hide()}}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement}),this.selfClick=!0}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",()=>{this.selfClick||(this.overlayVisible=!1,this.unbindDocumentClickListener()),this.selfClick=!1,this.cd.markForCheck()}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentMousemoveListener(){this.documentMousemoveListener||(this.documentMousemoveListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousemove",o=>{this.colorDragging&&this.pickColor(o),this.hueDragging&&this.pickHue(o)}))}unbindDocumentMousemoveListener(){this.documentMousemoveListener&&(this.documentMousemoveListener(),this.documentMousemoveListener=null)}bindDocumentMouseupListener(){this.documentMouseupListener||(this.documentMouseupListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mouseup",()=>{this.colorDragging=!1,this.hueDragging=!1,this.unbindDocumentMousemoveListener(),this.unbindDocumentMouseupListener()}))}unbindDocumentMouseupListener(){this.documentMouseupListener&&(this.documentMouseupListener(),this.documentMouseupListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!b.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new b.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}validateHSB(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),b:Math.min(100,Math.max(0,t.b))}}validateRGB(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}}validateHEX(t){var o=6-t.length;if(o>0){for(var i=[],s=0;s<o;s++)i.push("0");i.push(t),t=i.join("")}return t}HEXtoRGB(t){let o=parseInt(t.indexOf("#")>-1?t.substring(1):t,16);return{r:o>>16,g:(65280&o)>>8,b:255&o}}HEXtoHSB(t){return this.RGBtoHSB(this.HEXtoRGB(t))}RGBtoHSB(t){var o={h:0,s:0,b:0},i=Math.min(t.r,t.g,t.b),s=Math.max(t.r,t.g,t.b),d=s-i;return o.b=s,o.s=0!=s?255*d/s:0,o.h=0!=o.s?t.r==s?(t.g-t.b)/d:t.g==s?2+(t.b-t.r)/d:4+(t.r-t.g)/d:-1,o.h*=60,o.h<0&&(o.h+=360),o.s*=100/255,o.b*=100/255,o}HSBtoRGB(t){var o={r:null,g:null,b:null};let i=t.h,s=255*t.s/100,d=255*t.b/100;if(0==s)o={r:d,g:d,b:d};else{let h=d,g=(255-s)*d/255,C=i%60*(h-g)/60;360==i&&(i=0),i<60?(o.r=h,o.b=g,o.g=g+C):i<120?(o.g=h,o.b=g,o.r=h-C):i<180?(o.g=h,o.r=g,o.b=g+C):i<240?(o.b=h,o.r=g,o.g=h-C):i<300?(o.b=h,o.g=g,o.r=g+C):i<360?(o.r=h,o.g=g,o.b=h-C):(o.r=0,o.g=0,o.b=0)}return{r:Math.round(o.r),g:Math.round(o.g),b:Math.round(o.b)}}RGBtoHEX(t){var o=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];for(var i in o)1==o[i].length&&(o[i]="0"+o[i]);return o.join("")}HSBtoHEX(t){return this.RGBtoHEX(this.HSBtoRGB(t))}onOverlayHide(){this.unbindScrollListener(),this.unbindDocumentResizeListener(),this.unbindDocumentClickListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&this.autoZIndex&&M.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(p.b4),e.Y36(p.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-colorPicker"]],viewQuery:function(t,o){if(1&t&&(e.Gf(A,5),e.Gf(F,5),e.Gf(R,5),e.Gf(G,5),e.Gf(J,5),e.Gf(z,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.containerViewChild=i.first),e.iGM(i=e.CRH())&&(o.inputViewChild=i.first),e.iGM(i=e.CRH())&&(o.colorSelector=i.first),e.iGM(i=e.CRH())&&(o.colorHandle=i.first),e.iGM(i=e.CRH())&&(o.hue=i.first),e.iGM(i=e.CRH())&&(o.hueHandle=i.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",inline:"inline",format:"format",appendTo:"appendTo",disabled:"disabled",tabindex:"tabindex",inputId:"inputId",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onChange:"onChange",onShow:"onShow",onHide:"onHide"},features:[e._Bn([q])],decls:4,vars:9,consts:[[3,"ngStyle","ngClass"],["container",""],["type","text","class","p-colorpicker-preview p-inputtext","readonly","readonly",3,"ngClass","disabled","backgroundColor","focus","click","keydown",4,"ngIf"],[3,"ngClass","click",4,"ngIf"],["type","text","readonly","readonly",1,"p-colorpicker-preview","p-inputtext",3,"ngClass","disabled","focus","click","keydown"],["input",""],[3,"ngClass","click"],[1,"p-colorpicker-content"],[1,"p-colorpicker-color-selector",3,"touchstart","touchmove","touchend","mousedown"],["colorSelector",""],[1,"p-colorpicker-color"],[1,"p-colorpicker-color-handle"],["colorHandle",""],[1,"p-colorpicker-hue",3,"mousedown","touchstart","touchmove","touchend"],["hue",""],[1,"p-colorpicker-hue-handle"],["hueHandle",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e.YNc(2,Y,2,8,"input",2),e.YNc(3,X,11,11,"div",3),e.qZA()),2&t&&(e.Tol(o.styleClass),e.Q6J("ngStyle",o.style)("ngClass",e.WLB(6,j,!o.inline,o.colorDragging||o.hueDragging)),e.xp6(2),e.Q6J("ngIf",!o.inline),e.xp6(1),e.Q6J("ngIf",o.inline||o.overlayVisible))},dependencies:[l.mk,l.O5,l.PC],styles:[".p-colorpicker{display:inline-block}.p-colorpicker-dragging{cursor:pointer}.p-colorpicker-overlay{position:relative}.p-colorpicker-panel{position:relative;width:193px;height:166px}.p-colorpicker-overlay-panel{position:absolute;top:0;left:0}.p-colorpicker-preview{cursor:pointer}.p-colorpicker-panel .p-colorpicker-content{position:relative}.p-colorpicker-panel .p-colorpicker-color-selector{width:150px;height:150px;top:8px;left:8px;position:absolute}.p-colorpicker-panel .p-colorpicker-color{width:150px;height:150px}.p-colorpicker-panel .p-colorpicker-color-handle{position:absolute;top:0;left:150px;border-radius:100%;width:10px;height:10px;border-width:1px;border-style:solid;margin:-5px 0 0 -5px;cursor:pointer;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue{width:17px;height:150px;top:8px;left:167px;position:absolute;opacity:.85}.p-colorpicker-panel .p-colorpicker-hue-handle{position:absolute;top:150px;left:0;width:21px;margin-left:-2px;margin-top:-5px;height:10px;border-width:2px;border-style:solid;opacity:.85;cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,v.X$)("overlayAnimation",[(0,v.eR)(":enter",[(0,v.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,v.jt)("{{showTransitionParams}}")]),(0,v.eR)(":leave",[(0,v.jt)("{{hideTransitionParams}}",(0,v.oB)({opacity:0}))])])]},changeDetection:0}),n})(),$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez]}),n})(),W=(()=>{class n{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["p-progressSpinner"]],hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"circle",2),e.qZA()()),2&t&&(e.Q6J("ngStyle",o.style)("ngClass",o.styleClass),e.xp6(1),e.Udp("animation-duration",o.animationDuration),e.xp6(1),e.uIk("fill",o.fill)("stroke-width",o.strokeWidth))},dependencies:[l.mk,l.PC],styles:['.p-progress-spinner{position:relative;margin:0 auto;width:100px;height:100px;display:inline-block}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;height:100%;transform-origin:center center;width:100%;position:absolute;inset:0;margin:auto}.p-progress-spinner-circle{stroke-dasharray:89,200;stroke-dashoffset:0;stroke:#d62d20;animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(360deg)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{to,0%{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}\n'],encapsulation:2,changeDetection:0}),n})(),ee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez]}),n})();var P=a(2137);function te(n,r){1&n&&e._UZ(0,"p-progressSpinner",12)}function oe(n,r){1&n&&(e.ynx(0),e._UZ(1,"p-skeleton",25)(2,"p-skeleton",25)(3,"p-skeleton",25),e.BQk())}const ne=function(n){return{background:n}};function ie(n,r){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"input",27),e.TgZ(2,"label",28)(3,"span",29),e._uU(4),e.qZA()()()),2&n){const t=r.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("id",t.icon)("value",t.icon),e.xp6(1),e.Q6J("for",t.icon),e.xp6(1),e.ekj("active",o.form.controls.icon.value===t.icon),e.Q6J("ngStyle",e.VKq(7,ne,o.form.controls.icon.value===t.icon?o.form.controls.color.value:"#fff")),e.xp6(1),e.hij(" ",t.icon," ")}}function re(n,r){if(1&n&&(e.TgZ(0,"form",13)(1,"div",14)(2,"label",15),e._uU(3,"name"),e.qZA(),e._UZ(4,"input",16),e.qZA(),e.TgZ(5,"div",14)(6,"label",15),e._uU(7,"description"),e.qZA(),e._UZ(8,"input",17),e.qZA(),e.TgZ(9,"div",14)(10,"label",18),e._uU(11,"color"),e.qZA(),e._UZ(12,"p-colorPicker",19),e.qZA(),e.TgZ(13,"div",20)(14,"label",15),e._uU(15,"icon"),e.qZA(),e.TgZ(16,"div",21)(17,"div",22),e.YNc(18,oe,4,0,"ng-container",23),e.YNc(19,ie,5,9,"div",24),e.qZA()()()()),2&n){const t=e.oxw();e.Q6J("formGroup",t.form),e.xp6(18),e.Q6J("ngIf",!(null!=t.iconPack&&t.iconPack.length)),e.xp6(1),e.Q6J("ngForOf",t.iconPack)}}function se(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submit())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("label",t.category?"Save":"Add")("loading",t.submitting),e.uIk("disabled",!t.form.valid||null)}}function ae(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.onDeleteClicked())}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("loading",t.deleting)}}const le=function(){return{width:"50vw"}},ce=function(){return{"960px":"75vw","640px":"100vw"}};let S=(()=>{class n{constructor(t,o,i,s,d,h,g){this.categoryService=t,this.cd=o,this.fb=i,this.messageService=s,this.router=d,this.activatedRoute=h,this.confirmationService=g,this.urlHelper=m._S,this.iconPack=[],this.submitting=!1,this.deleting=!1,this.loading=!1}ngOnInit(){this.loadIconPack(),this.activatedRoute.params.subscribe({next:t=>{t.id?this.loadCategoryThenInitForm(t.id):this.initForm()}})}loadIconPack(){this.categoryService.listAllCategoryIconUsingGET().subscribe({next:t=>{this.iconPack=t,this.cd.detectChanges()}})}loadCategoryThenInitForm(t){this.loading||(this.showLoading(),this.categoryService.findCategoryByIdUsingGET(t).subscribe({next:o=>{o?(this.category=o,this.initForm(this.category),this.hideLoading()):this.initForm()},error:o=>{(0,m.d9)(this.messageService,o.error),this.hideLoading()}}))}initForm(t){this.form=this.fb.group({_id:[t?._id],name:[t?.name,u.kI.required],description:[t?.description],color:[t?.color||"#0abde3",u.kI.required],icon:[t?.icon,u.kI.required]}),this.cd.detectChanges()}submit(){this.form?.invalid||this.submitting||(this.submitting=!0,this.categoryService.saveCategoryUsingPOST(this.form?.getRawValue()).subscribe({next:t=>{(0,m.iB)(this.messageService),this.submitting=!1,this.router.navigateByUrl(this.urlHelper.categoryManagement())},error:t=>{(0,m.d9)(this.messageService,t),this.submitting=!1}}))}showLoading(){this.loading=!0,this.cd.detectChanges()}hideLoading(){this.loading=!1,this.cd.detectChanges()}onDeleteClicked(){!this.category?._id||this.confirmationService.confirm({message:"Are you sure to delete this category?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.deleteCategoryById(this.category?._id)}})}deleteCategoryById(t){this.deleting||(this.deleting=!0,this.categoryService.deleteCategoryByIdUsingDELETE(t).subscribe({next:o=>{(0,m.iB)(this.messageService,"Deleted."),this.deleting=!1,this.router.navigateByUrl(this.urlHelper.categoryManagement())},error:o=>{this.deleting=!1,(0,m.d9)(this.messageService,o.error)}}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.H),e.Y36(e.sBO),e.Y36(u.qu),e.Y36(p.ez),e.Y36(y.F0),e.Y36(y.gz),e.Y36(p.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-category-form"]],features:[e._Bn([p.ez,p.YP])],decls:14,vars:11,consts:[["styleClass","ts-mw-75"],["position","bottom","acceptButtonStyleClass","ts-button-primary","rejectButtonStyleClass","ts-button-primary",3,"breakpoints"],[1,"ts-category-form","vh-100"],[1,"text-capitalize","text-center","ts-page-title","ts-page-title--dark"],["pButton","","role","button",1,"p-button-text","ts-category-form-back",3,"routerLink"],[1,"material-symbols-outlined"],["class","ts-category-form-loading",4,"ngIf"],[1,"ts-category-form-content","ts-hide-scrollbar","overflow-auto"],["class","ts-category-form__form w-100 border shadow",3,"formGroup",4,"ngIf"],[1,"position-absolute","ts-category-form-btns","d-flex","justify-content-center"],["pButton","","type","button","class","ts-button-third ts-mr-5",3,"label","loading","click",4,"ngIf"],["pButton","","type","button","label","Delete","class","p-button-danger",3,"loading","click",4,"ngIf"],[1,"ts-category-form-loading"],[1,"ts-category-form__form","w-100","border","shadow",3,"formGroup"],[1,"form-group","mb-3"],[1,"ts-label"],["pInputText","","formControlName","name",1,"w-100"],["pInputText","","formControlName","description",1,"w-100"],[1,"ts-label","w-100"],["formControlName","color"],[1,"form-group"],[1,"container"],[1,"row"],[4,"ngIf"],["class","col-lg-1 col-4 ts-category-form-icon",4,"ngFor","ngForOf"],["height","65px",1,"col-4"],[1,"col-lg-1","col-4","ts-category-form-icon"],["type","radio","name","icon","formControlName","icon",3,"id","value"],[1,"w-100",3,"for"],[1,"material-symbols-outlined","icon",3,"ngStyle"],["pButton","","type","button",1,"ts-button-third","ts-mr-5",3,"label","loading","click"],["pButton","","type","button","label","Delete",1,"p-button-danger",3,"loading","click"]],template:function(t,o){1&t&&(e._UZ(0,"p-toast",0)(1,"p-confirmDialog",1),e.TgZ(2,"div",2)(3,"h1",3),e._uU(4),e.qZA(),e.TgZ(5,"a",4)(6,"span",5),e._uU(7," arrow_back_ios_new "),e.qZA()(),e.YNc(8,te,1,0,"p-progressSpinner",6),e.TgZ(9,"div",7),e.YNc(10,re,20,3,"form",8),e.qZA(),e.TgZ(11,"div",9),e.YNc(12,se,1,3,"button",10),e.YNc(13,ae,1,1,"button",11),e.qZA()()),2&t&&(e.xp6(1),e.Akn(e.DdM(9,le)),e.Q6J("breakpoints",e.DdM(10,ce)),e.xp6(3),e.hij("",o.category?"Edit":"New"," Category"),e.xp6(1),e.Q6J("routerLink",o.urlHelper.categoryManagement()),e.xp6(3),e.Q6J("ngIf",o.loading),e.xp6(2),e.Q6J("ngIf",o.form),e.xp6(2),e.Q6J("ngIf",o.form),e.xp6(1),e.Q6J("ngIf",o.category))},dependencies:[l.sg,l.O5,l.PC,y.yS,u._Y,u.Fj,u._,u.JJ,u.JL,u.sg,u.u,_.Hq,w.o,T,c.FN,W,f,P.Q],styles:[".ts-category-form[_ngcontent-%COMP%]{padding:40px 20px 20px;position:relative;background:#fff;background-size:200%;background-position-y:400%;overflow:hidden}.ts-category-form-content[_ngcontent-%COMP%]{height:100%;padding:20px 0 120px}.ts-category-form-back[_ngcontent-%COMP%]{color:#222;text-decoration:none;top:40px;position:absolute;padding:0}.ts-category-form-back[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px}.ts-category-form-loading[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.ts-category-form__form[_ngcontent-%COMP%]{background:#fff;margin-top:20px;border-radius:20px;box-shadow:0 3px 20px 5px #0000001c;padding:30px 20px}.ts-category-form-icon[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{visibility:hidden}.ts-category-form-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:45px;border-radius:10px;padding:10px;color:#717171;transition:.3s all ease}.ts-category-form-icon[_ngcontent-%COMP%]   .icon.active[_ngcontent-%COMP%]{color:#fff}.ts-category-form-btns[_ngcontent-%COMP%]{bottom:20px;left:50%;transform:translate(-50%)}.ts-category-form-btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 30px;border:0}"],changeDetection:0}),n})();const de=[{path:"",component:U},{path:"form",component:S,data:{animation:"CategoryFormPage"}},{path:"form/:id",component:S,data:{animation:"CategoryFormPage"}}];let pe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[y.Bz.forChild(de),y.Bz]}),n})(),ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,pe,u.u5,u.UX,_.hJ,w.j,$,c.EV,ee,O,P.D]}),n})()},4655:(H,k,a)=>{a.d(k,{H:()=>_});var l=a(3151),y=a(2340),m=a(8274),e=a(529);let _=(()=>{class p{constructor(c){this.httpClient=c,this.basePath=`${y.N.api}/category`}listAllUserCategoryUsingGET(){return this.httpClient.get(this.basePath)}listCategoryByIdsUsingGET(c){const f=this.basePath+`?id=${c.join(",")}`;return this.httpClient.get(f)}listAllCategoryIconUsingGET(){return this.iconPack$||(this.iconPack$=this.httpClient.get(`${this.basePath}/icon/pack`).pipe((0,l.d)(1))),this.iconPack$}saveCategoryUsingPOST(c){return this.httpClient.post(this.basePath,c)}findCategoryByIdUsingGET(c){return this.httpClient.get(`${this.basePath}/${c}`)}deleteCategoryByIdUsingDELETE(c){return this.httpClient.delete(`${this.basePath}/${c}`)}}return p.\u0275fac=function(c){return new(c||p)(m.LFG(e.eN))},p.\u0275prov=m.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()}}]);